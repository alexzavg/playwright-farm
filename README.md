# Playwright Load Test Farm

–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ e-commerce –≤–æ—Ä–æ–Ω–æ–∫ —Å Playwright, Page Object Model –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º Windows XP –¥–∞—à–±–æ—Ä–¥–æ–º.

## ÔøΩ Table of Contents

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–º–∞–Ω–¥—ã](#-–∫–æ–º–∞–Ω–¥—ã)
- [–ö–∞—Å—Ç–æ–º–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞](#-–∫–∞—Å—Ç–æ–º–Ω–∞—è-–Ω–∞–≥—Ä—É–∑–∫–∞)
- [–î–∞—à–±–æ—Ä–¥](#-–¥–∞—à–±–æ—Ä–¥-windows-xp-style)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π](#-—Ç–µ—Å—Ç–æ–≤—ã–π-—Å—Ü–µ–Ω–∞—Ä–∏–π)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)

## ÔøΩüöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install
npx playwright install chromium

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (50 –ø—Ä–æ–≥–æ–Ω–æ–≤) + –∞–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –¥–∞—à–±–æ—Ä–¥–∞
npm run test:chrome

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –¥–∞—à–±–æ—Ä–¥ (–µ—Å–ª–∏ —Ç–µ—Å—Ç—ã —É–∂–µ –±—ã–ª–∏)
npm run dashboard
```

## üìã –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | Workers | Repeats | Total | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|---------|-------|----------|
| `npm run test:chrome` | 10 | 5 | 50 | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–≥–æ–Ω Chrome |
| `npm run test:chrome-heavy` | 20 | 200 | 4000 | –¢—è–∂—ë–ª–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ |
| `npm run test:android` | 10 | 50 | 500 | Android —ç–º—É–ª—è—Ü–∏—è |
| `npm run test:android-landscape` | 10 | 50 | 500 | Android –ª–∞–Ω–¥—à–∞—Ñ—Ç |
| `npm run test:iphone` | 10 | 50 | 500 | iPhone —ç–º—É–ª—è—Ü–∏—è |
| `npm run test:iphone-landscape` | 10 | 50 | 500 | iPhone –ª–∞–Ω–¥—à–∞—Ñ—Ç |
| `npm run dashboard` | - | - | - | –û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥ |
| `npm run clean` | - | - | - | –û—á–∏—Å—Ç–∫–∞ —Ä–µ–ø–æ—Ä—Ç–æ–≤ |

## üéØ –ö–∞—Å—Ç–æ–º–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

```bash
# –°–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
npx playwright test demoblaze --workers=30 --repeat-each=100

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–≤–∞–π—Å
DEVICE=android npx playwright test demoblaze --workers=5
```

## üìä –î–∞—à–±–æ—Ä–¥ (Windows XP style)

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–∞—à–±–æ—Ä–¥:

- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: Total / Passed / Failed / Success Rate
- **–ò–µ—Ä–∞—Ä—Ö–∏—è —Ñ–µ–π–ª–æ–≤**: Spec ‚Üí Step ‚Üí Error ‚Üí Traces
- **Trace Viewer**: 
  - –õ–æ–∫–∞–ª—å–Ω–æ ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π Playwright trace viewer
  - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (S3) ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç trace.playwright.dev

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
playwright-farm/
‚îú‚îÄ‚îÄ support/                   # Page Objects, Selectors, Fixtures
‚îÇ   ‚îú‚îÄ‚îÄ fixtures.js            # –û–±—â–∏–µ fixtures –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ demoblaze/         # Page Objects –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ selectors/
‚îÇ       ‚îî‚îÄ‚îÄ demoblaze/         # –°–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ demoblaze/             # –°–ø–µ–∫–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
‚îÇ       ‚îî‚îÄ‚îÄ checkout.spec.js
‚îú‚îÄ‚îÄ reporters/
‚îÇ   ‚îî‚îÄ‚îÄ funnel-reporter.js
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ clean.js
‚îÇ   ‚îî‚îÄ‚îÄ serve-dashboard.js
‚îî‚îÄ‚îÄ playwright.config.js
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–ø–µ–∫–µ

```javascript
const { test } = require('../../support/fixtures');

test('Sales funnel', async ({ demoblaze }) => {
  await test.step('Navigate to homepage', async () => {
    await demoblaze.homePage.navigate();
  });
  await test.step('Wait for products', async () => {
    await demoblaze.homePage.waitForProducts();
  });
});
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. `support/pages/newproject/` ‚Äî page objects
2. `support/selectors/newproject/` ‚Äî —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
3. –î–æ–±–∞–≤–∏—Ç—å fixture –≤ `support/fixtures.js`
4. `tests/newproject/` ‚Äî —Å–ø–µ–∫–∏

## üî¨ –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

–ù–∞ –ø—Ä–∏–º–µ—Ä–µ [demoblaze.com](https://www.demoblaze.com) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ e-commerce –≤–æ—Ä–æ–Ω–∫–∞:

**–ì–ª–∞–≤–Ω–∞—è ‚Üí –ü—Ä–æ–¥—É–∫—Ç ‚Üí –ö–æ—Ä–∑–∏–Ω–∞ ‚Üí –ß–µ–∫–∞—É—Ç ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**

–ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –æ–±—ë—Ä–Ω—É—Ç–æ –≤ –∞—Ç–æ–º–∞—Ä–Ω—ã–π `test.step()` –¥–ª—è —Ç–æ—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–∞–¥–µ–Ω–∏–π. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏ page objects –∏ —Å–ø–µ–∫–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Playwright** ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- **Page Object Model** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
- **Custom Reporter** ‚Äî —Å–±–æ—Ä –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **Node.js HTTP Server** ‚Äî –¥–∞—à–±–æ—Ä–¥ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Trace Viewer** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ–±–∞–≥–∞

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
